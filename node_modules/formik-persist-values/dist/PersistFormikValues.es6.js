import t,{memo as r,useCallback as n,useEffect as e,useMemo as o}from"react";import{useFormikContext as u}from"formik";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var a=function(t,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])})(t,r)};var i=function(){return(i=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)};function c(t){var r="function"==typeof Symbol&&t[Symbol.iterator],n=0;return r?r.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,r){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var e,o,u=n.call(t),a=[];try{for(;(void 0===r||r-- >0)&&!(e=u.next()).done;)a.push(e.value)}catch(t){o={error:t}}finally{try{e&&!e.done&&(n=u.return)&&n.call(u)}finally{if(o)throw o.error}}return a}function l(t){return this instanceof l?(this.v=t,this):new l(t)}var s=Object.freeze({__proto__:null,__extends:function(t,r){function n(){this.constructor=t}a(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},get __assign(){return i},__rest:function(t,r){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(n[e]=t[e]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(e=Object.getOwnPropertySymbols(t);o<e.length;o++)r.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(t,e[o])&&(n[e[o]]=t[e[o]])}return n},__decorate:function(t,r,n,e){var o,u=arguments.length,a=u<3?r:null===e?e=Object.getOwnPropertyDescriptor(r,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,r,n,e);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(a=(u<3?o(a):u>3?o(r,n,a):o(r,n))||a);return u>3&&a&&Object.defineProperty(r,n,a),a},__param:function(t,r){return function(n,e){r(n,e,t)}},__metadata:function(t,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,r)},__awaiter:function(t,r,n,e){return new(n||(n=Promise))((function(o,u){function a(t){try{c(e.next(t))}catch(t){u(t)}}function i(t){try{c(e.throw(t))}catch(t){u(t)}}function c(t){t.done?o(t.value):new n((function(r){r(t.value)})).then(a,i)}c((e=e.apply(t,r||[])).next())}))},__generator:function(t,r){var n,e,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,e&&(o=2&u[0]?e.return:u[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,u[1])).done)return o;switch(e=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,e=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=r.call(t,a)}catch(t){u=[6,t],e=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},__exportStar:function(t,r){for(var n in t)r.hasOwnProperty(n)||(r[n]=t[n])},__values:c,__read:f,__spread:function(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(f(arguments[r]));return t},__spreadArrays:function(){for(var t=0,r=0,n=arguments.length;r<n;r++)t+=arguments[r].length;var e=Array(t),o=0;for(r=0;r<n;r++)for(var u=arguments[r],a=0,i=u.length;a<i;a++,o++)e[o]=u[a];return e},__await:l,__asyncGenerator:function(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,o=n.apply(t,r||[]),u=[];return e={},a("next"),a("throw"),a("return"),e[Symbol.asyncIterator]=function(){return this},e;function a(t){o[t]&&(e[t]=function(r){return new Promise((function(n,e){u.push([t,r,n,e])>1||i(t,r)}))})}function i(t,r){try{(n=o[t](r)).value instanceof l?Promise.resolve(n.value.v).then(c,f):s(u[0][2],n)}catch(t){s(u[0][3],t)}var n}function c(t){i("next",t)}function f(t){i("throw",t)}function s(t,r){t(r),u.shift(),u.length&&i(u[0][0],u[0][1])}},__asyncDelegator:function(t){var r,n;return r={},e("next"),e("throw",(function(t){throw t})),e("return"),r[Symbol.iterator]=function(){return this},r;function e(e,o){r[e]=t[e]?function(r){return(n=!n)?{value:l(t[e](r)),done:"return"===e}:o?o(r):r}:o}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=t[Symbol.asyncIterator];return n?n.call(t):(t=c(t),r={},e("next"),e("throw"),e("return"),r[Symbol.asyncIterator]=function(){return this},r);function e(n){r[n]=t[n]&&function(r){return new Promise((function(e,o){(function(t,r,n,e){Promise.resolve(e).then((function(r){t({value:r,done:n})}),r)})(e,o,(r=t[n](r)).done,r.value)}))}}},__makeTemplateObject:function(t,r){return Object.defineProperty?Object.defineProperty(t,"raw",{value:r}):t.raw=r,t},__importStar:function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r},__importDefault:function(t){return t&&t.__esModule?t:{default:t}}}),p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _(t,r){return t(r={exports:{}},r.exports),r.exports}var y=_((function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(r,n){void 0===n&&(n=0);var e=t.useRef(!1),o=t.useRef(),u=t.useRef(r),a=t.useCallback((function(){return e.current}),[]),i=t.useCallback((function(){e.current=!1,o.current&&clearTimeout(o.current),o.current=setTimeout((function(){e.current=!0,u.current()}),n)}),[n]),c=t.useCallback((function(){e.current=null,o.current&&clearTimeout(o.current)}),[]);return t.useEffect((function(){u.current=r}),[r]),t.useEffect((function(){return i(),c}),[n]),[a,c,i]}}));h(y);var v=h(_((function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var e=s.__importDefault(y);n.default=function(r,n,o){void 0===n&&(n=0),void 0===o&&(o=[]);var u=e.default(r,n),a=u[0],i=u[1],c=u[2];return t.useEffect(c,o),[a,i]}}))),d=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,g="object"==typeof p&&p&&p.Object===Object&&p,m="object"==typeof self&&self&&self.Object===Object&&self,w=g||m||Function("return this")();function O(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}function j(t,r){return!!(t?t.length:0)&&function(t,r,n){if(r!=r)return function(t,r,n,e){var o=t.length,u=n+(e?1:-1);for(;e?u--:++u<o;)if(r(t[u],u,t))return u;return-1}(t,I,n);var e=n-1,o=t.length;for(;++e<o;)if(t[e]===r)return e;return-1}(t,r,0)>-1}function S(t,r,n){for(var e=-1,o=t?t.length:0;++e<o;)if(n(r,t[e]))return!0;return!1}function P(t,r){for(var n=-1,e=t?t.length:0,o=Array(e);++n<e;)o[n]=r(t[n],n,t);return o}function x(t,r){for(var n=-1,e=r.length,o=t.length;++n<e;)t[o+n]=r[n];return t}function I(t){return t!=t}function k(t,r){return t.has(r)}function A(t,r){return function(n){return t(r(n))}}var E,R=Array.prototype,T=Function.prototype,M=Object.prototype,$=w["__core-js_shared__"],C=(E=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",J=T.toString,N=M.hasOwnProperty,V=M.toString,D=RegExp("^"+J.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=w.Symbol,G=A(Object.getPrototypeOf,Object),z=M.propertyIsEnumerable,q=R.splice,B=F?F.isConcatSpreadable:void 0,H=Object.getOwnPropertySymbols,K=Math.max,L=ut(w,"Map"),Q=ut(Object,"create");function U(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function W(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function X(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function Y(t){var r=-1,n=t?t.length:0;for(this.__data__=new X;++r<n;)this.add(t[r])}function Z(t,r){var n=_t(t)||st(t)?function(t,r){for(var n=-1,e=Array(t);++n<t;)e[n]=r(n);return e}(t.length,String):[],e=n.length,o=!!e;for(var u in t)!r&&!N.call(t,u)||o&&("length"==u||ft(u,e))||n.push(u);return n}function tt(t,r){for(var n,e,o=t.length;o--;)if((n=t[o][0])===(e=r)||n!=n&&e!=e)return o;return-1}function rt(t){return!(!dt(t)||(r=t,C&&C in r))&&(vt(t)||function(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(t){}return r}(t)?D:d).test(function(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var r}function nt(t){if(!dt(t))return function(t){var r=[];if(null!=t)for(var n in Object(t))r.push(n);return r}(t);var r,n,e,o=(n=(r=t)&&r.constructor,e="function"==typeof n&&n.prototype||M,r===e),u=[];for(var a in t)("constructor"!=a||!o&&N.call(t,a))&&u.push(a);return u}function et(t){return function(t,r,n){var e=r(t);return _t(t)?e:x(e,n(t))}(t,gt,it)}function ot(t,r){var n,e,o=t.__data__;return("string"==(e=typeof(n=r))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n)?o["string"==typeof r?"string":"hash"]:o.map}function ut(t,r){var n=function(t,r){return null==t?void 0:t[r]}(t,r);return rt(n)?n:void 0}U.prototype.clear=function(){this.__data__=Q?Q(null):{}},U.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},U.prototype.get=function(t){var r=this.__data__;if(Q){var n=r[t];return"__lodash_hash_undefined__"===n?void 0:n}return N.call(r,t)?r[t]:void 0},U.prototype.has=function(t){var r=this.__data__;return Q?void 0!==r[t]:N.call(r,t)},U.prototype.set=function(t,r){return this.__data__[t]=Q&&void 0===r?"__lodash_hash_undefined__":r,this},W.prototype.clear=function(){this.__data__=[]},W.prototype.delete=function(t){var r=this.__data__,n=tt(r,t);return!(n<0)&&(n==r.length-1?r.pop():q.call(r,n,1),!0)},W.prototype.get=function(t){var r=this.__data__,n=tt(r,t);return n<0?void 0:r[n][1]},W.prototype.has=function(t){return tt(this.__data__,t)>-1},W.prototype.set=function(t,r){var n=this.__data__,e=tt(n,t);return e<0?n.push([t,r]):n[e][1]=r,this},X.prototype.clear=function(){this.__data__={hash:new U,map:new(L||W),string:new U}},X.prototype.delete=function(t){return ot(this,t).delete(t)},X.prototype.get=function(t){return ot(this,t).get(t)},X.prototype.has=function(t){return ot(this,t).has(t)},X.prototype.set=function(t,r){return ot(this,t).set(t,r),this},Y.prototype.add=Y.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Y.prototype.has=function(t){return this.__data__.has(t)};var at=H?A(H,Object):mt,it=H?function(t){for(var r=[];t;)x(r,at(t)),t=G(t);return r}:mt;function ct(t){return _t(t)||st(t)||!!(B&&t&&t[B])}function ft(t,r){return!!(r=null==r?9007199254740991:r)&&("number"==typeof t||b.test(t))&&t>-1&&t%1==0&&t<r}function lt(t){if("string"==typeof t||function(t){return"symbol"==typeof t||bt(t)&&"[object Symbol]"==V.call(t)}(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}function st(t){return function(t){return bt(t)&&yt(t)}(t)&&N.call(t,"callee")&&(!z.call(t,"callee")||"[object Arguments]"==V.call(t))}var pt,ht,_t=Array.isArray;function yt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!vt(t)}function vt(t){var r=dt(t)?V.call(t):"";return"[object Function]"==r||"[object GeneratorFunction]"==r}function dt(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function bt(t){return!!t&&"object"==typeof t}function gt(t){return yt(t)?Z(t,!0):nt(t)}function mt(){return[]}var wt=(pt=function(t,r){return null==t?{}:(r=P(function t(r,n,e,o,u){var a=-1,i=r.length;for(e||(e=ct),u||(u=[]);++a<i;){var c=r[a];n>0&&e(c)?n>1?t(c,n-1,e,o,u):x(u,c):o||(u[u.length]=c)}return u}(r,1),lt),function(t,r){return function(t,r,n){for(var e=-1,o=r.length,u={};++e<o;){var a=r[e],i=t[a];n(i,a)&&(u[a]=i)}return u}(t=Object(t),r,(function(r,n){return n in t}))}(t,function(t,r,n,e){var o,u=-1,a=j,i=!0,c=t.length,f=[],l=r.length;if(!c)return f;n&&(r=P(r,(o=n,function(t){return o(t)}))),e?(a=S,i=!1):r.length>=200&&(a=k,i=!1,r=new Y(r));t:for(;++u<c;){var s=t[u],p=n?n(s):s;if(s=e||0!==s?s:0,i&&p==p){for(var h=l;h--;)if(r[h]===p)continue t;f.push(s)}else a(r,p,e)||f.push(s)}return f}(et(t),r)))},ht=K(void 0===ht?pt.length-1:ht,0),function(){for(var t=arguments,r=-1,n=K(t.length-ht,0),e=Array(n);++r<n;)e[r]=t[ht+r];r=-1;for(var o=Array(ht+1);++r<ht;)o[r]=t[r];return o[ht]=e,O(pt,this,o)}),Ot=function(t){var r=t.storage,n=void 0===r?"localStorage":r,e=!!window;switch(n){case"sessionStorage":return e?window.sessionStorage:void 0;case"localStorage":return e?window.localStorage:void 0;default:return n}},jt=function(t){var r=t.name,e=t.hashInitials,a=t.hashSpecificity,i=u().initialValues,c=r+"_",f=o((function(){return e?""+c+function(t,r){void 0===r&&(r=7);var n=0;try{for(var e=JSON.stringify(t).replace(/\{|\"|\}|\:|,/g,""),o=e.length,u=0;u<o;u++)n+=e.charCodeAt(u)*r}catch(t){n=0}return n}(i,a):r}),[r,e,JSON.stringify(i),a]),l=Ot(t);return[o((function(){return l?l.getItem(f):null}),[f,l]),n((function(t){l&&(l.setItem(f,JSON.stringify(t)),Object.keys(l).forEach((function(t){t.indexOf(c)>-1&&t!==f&&l.removeItem(t)})))}),[l])]},St=r((function(t){var r=t.debounce,o=void 0===r?300:r,a=t.persistInvalid,c=t.ignoreValues,f=u(),l=f.values,s=f.setValues,p=f.isValid,h=f.initialValues,_=jt(t),y=_[0],d=_[1],b=JSON.stringify(l),g=n((function(){if(p||a){var t=c?wt(l,c):l;d(t)}}),[b,p,a]);return e((function(){if(y)try{var t=JSON.parse(y),r=i(i({},h),t);b!==JSON.stringify(r)&&s(r)}catch(t){console.error("Parse persisted values is not possible",t)}}),[y]),v(g,o,[b,p,a]),null}));export{St as PersistFormikValues};
//# sourceMappingURL=PersistFormikValues.es6.js.map
